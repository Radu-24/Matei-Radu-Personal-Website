:root{
  --ink:#e7f5ff; --g1:#60a5fa; --g2:#22c55e;
  --menu-pad-x-min: 8px;
  --menu-pad-x-hover: 30px;
  --menu-gap-min: 12px;
  --menu-gap-hover: 22px;
}

.header{
  position:sticky; top:0; z-index:50;
  backdrop-filter: blur(10px) saturate(140%);
  background:linear-gradient(180deg, rgb(8 10 12/.55), rgb(8 10 12/.20));
  border-bottom:1px solid rgb(255 255 255/.06);
  padding:4px 0;
  transition:background .25s,border-color .25s,padding .2s;
}
.header.scrolled{
  background:linear-gradient(180deg, rgb(8 10 12/.70), rgb(8 10 12/.32));
  border-color:rgb(255 255 255/.10);
}

.nav{
  max-width:1200px; margin:auto; padding:0 12px;
  display:flex; justify-content:center; position:relative;
}

/* Minimal at rest */
.menu{
  position:relative;
  display:flex; gap:var(--menu-gap-min);
  padding:6px var(--menu-pad-x-min);
  border-radius:22px;
  background:transparent; border:none; box-shadow:none;
  transition: padding .18s ease, gap .18s ease, background .22s ease, box-shadow .22s ease;
}

/* “Awake” state (either :hover or JS adds .awake) */
.header:hover .menu,
.header.awake .menu{
  padding:10px var(--menu-pad-x-hover);
  gap:var(--menu-gap-hover);
  background:linear-gradient(180deg, rgb(255 255 255/.05), rgb(255 255 255/.03));
  border:1px solid rgb(255 255 255/.08);
  box-shadow:0 8px 26px rgb(0 0 0/.35), inset 0 1px 0 rgb(255 255 255/.06);
}

.menu::after{
  content:""; position:absolute; inset:-10px; border-radius:inherit; pointer-events:none;
  background:
    radial-gradient(120% 120% at 50% -10%, rgb(96 165 250/.18), transparent 60%),
    radial-gradient(120% 120% at 50% 110%, rgb(34 197 94/.18), transparent 60%);
  box-shadow: 0 0 0 1px rgb(255 255 255/.06), inset 0 0 0 1px rgb(0 0 0/.25), 0 24px 48px rgb(0 0 0/.45);
  opacity:0; transition:opacity .25s ease;
}
.header:hover .menu::after,
.header.awake .menu::after{ opacity:1 }

/* Buttons */
.menu a{
  position:relative; display:inline-flex; align-items:center; justify-content:center;
  min-width:88px; padding:8px 10px; border-radius:16px;
  color:var(--ink); text-decoration:none; font-weight:800; letter-spacing:.2px;
  opacity:.92; background:transparent;
  transition: transform .16s ease, opacity .16s ease, background .16s ease, padding .16s ease;
}
.menu a:hover{
  transform: translateY(-1px) scale(1.12);
  opacity:1; background: rgb(255 255 255/.06);
}

/* Underline fixed to current page */
.menu a.active::after{
  content:""; position:absolute; left:12px; right:12px; height:2px; bottom:-8px; border-radius:2px;
  background: linear-gradient(90deg, var(--g1), var(--g2));
}

/* Hover blob (centered by JS) */
#hover-blob{
  position:absolute; left:0; top:0; width:120px; height:40px; border-radius:999px;
  background:radial-gradient(100% 100% at 30% 20%, rgb(96 165 250/.45), rgb(34 197 94/.38));
  filter:blur(12px) saturate(130%); pointer-events:none;
  opacity:0; transform:translate(-50%, -50%) scale(.6);
  transition:opacity .2s ease;
}

/* Mobile */
.nav-toggle{ display:none; position:absolute; right:12px; top:50%; transform:translateY(-50%); width:40px; height:36px; border:0; background:transparent; cursor:pointer }
.nav-toggle span, .nav-toggle::before, .nav-toggle::after{
  content:""; position:absolute; left:8px; right:8px; height:2px; background:var(--ink);
  transition:transform .25s ease, opacity .2s ease;
}
.nav-toggle span{ top:17px } .nav-toggle::before{ top:10px } .nav-toggle::after{ top:24px }
.nav.open .nav-toggle::before{ transform:translateY(7px) rotate(45deg) }
.nav.open .nav-toggle::after{ transform:translateY(-7px) rotate(-45deg) }
.nav.open .nav-toggle span{ opacity:0 }

@media (max-width:820px){
  .menu{
    position:absolute; top:100%; right:12px; left:12px;
    display:grid; grid-template-columns:1fr; gap:10px; padding:12px 14px; border-radius:16px; overflow:hidden;
    transform-origin: top right; transform:scale(.98); opacity:0; pointer-events:none;
  }
  .nav.open .menu{
    transform:scale(1); opacity:1; pointer-events:auto;
    background:linear-gradient(180deg, rgb(255 255 255/.06), rgb(255 255 255/.04));
    border:1px solid rgb(255 255 255/.10);
  }
  #hover-blob{ display:none }
}
