:root { --nav-height: 72px; } /* must match your nav-lock height */

/* ===== CV hero container ===== */
.cv-hero { position: relative; padding-top: 8px; }

/* sentinel never transforms; we read its position to dock precisely */
.cv-hero-anchor { height: 1px; }

/* sticky block -> hard-docks under nav */
.cv-hero-stick{
  position: sticky;
  top: var(--nav-height);
  z-index: 900;
  padding: 8px 0;
  width: 100%;
}
.cv-hero-stick.docked{
  position: fixed;
  top: var(--nav-height);
  left: 0; right: 0;
  z-index: 900;
}

/* preserves layout height when fixed */
.cv-hero-spacer{ height: 0; transition: height .18s ease; }

/* morph rail (single layout; we drive it with transforms) */
.cv-hero-rail{
  --p: 0;        /* 0..1 progress (set by JS) */
  --txc: 0px;    /* counter-translate to keep the group centered */
  --avatarAlpha: 1;

  /* global shrink + slight lift */
  --scale:       calc(1 - 0.30 * var(--p));
  --shiftY:      calc(14px * var(--p));

  /* part-specific scales */
  --avatarScale: calc(1 - 0.42 * var(--p));  /* shrinks more to vanish nicely */
  --nameScale:   calc(1 - 0.22 * var(--p));

  /* gap compresses a bit */
  --gap:         calc(18px - 10px * var(--p));

  max-width: 980px; margin: 0 auto;
  display: flex; flex-direction: column; align-items: center; gap: var(--gap);
  transform: translate(var(--txc), calc(-1 * var(--shiftY))) scale(var(--scale));
  transform-origin: top center;
  color: #e7f5ff; will-change: transform;
}

/* avatar (fades & shrinks out by the end) */
.cv-avatar{
  width: clamp(110px, 16vw, 170px);
  height: clamp(110px, 16vw, 170px);
  border-radius: 50%;
  position: relative; isolation: isolate;
  box-shadow:
    0 0 6px rgb(255 255 255 / .06) inset,
    0 12px 28px rgb(0 0 0 / .35);
  background: linear-gradient(180deg, rgb(255 255 255 / .08), rgb(255 255 255 / .02));
  backdrop-filter: blur(6px) saturate(140%);
  transform: scale(var(--avatarScale));
  opacity: var(--avatarAlpha);
  transition: opacity .2s linear; /* in case of reduced motion */
  pointer-events: none;
}
.cv-avatar::before{
  content:""; position:absolute; inset:-10% -10%; border-radius:50%;
  background:
    radial-gradient(ellipse at 40% 30%, rgb(0 255 200 / .16), transparent 55%),
    radial-gradient(ellipse at 70% 70%, rgb(100 180 255 / .12), transparent 60%);
  filter: blur(12px); z-index:-1;
}
.cv-avatar img{
  width:100%; height:100%; border-radius:50%;
  object-fit:cover; object-position:50% 36%; display:block;
}

/* titles block */
.cv-titles{ display:flex; flex-direction:column; align-items:center; text-align:center; will-change: transform, opacity }
.cv-name{
  font-weight: 900; letter-spacing:.4px; margin: 2px 0 0;
  font-size: clamp(28px, 5.2vw, 44px);
  text-shadow: 0 2px 16px rgb(0 0 0 / .35);
  transform: scale(var(--nameScale));
  transform-origin: left center;
}

/* chips that remain in the final state */
.cv-meta{
  --chip-bg: rgb(255 255 255 / .06);
  --chip-br: rgb(255 255 255 / .10);
  display:flex; gap:10px; flex-wrap:wrap; margin:10px 0 0; padding:0;
  list-style:none;
}
.cv-meta li{
  padding:6px 10px; border-radius:999px;
  font-weight:800; letter-spacing:.1px;
  background:
    linear-gradient(180deg, rgb(255 255 255 / .06), rgb(255 255 255 / .03));
  border:1px solid var(--chip-br);
  box-shadow: inset 0 1px 0 rgb(255 255 255 / .06);
  white-space:nowrap;
  opacity: 1; transition: opacity .2s ease;
}
.cv-hero-stick.docked .cv-meta{ gap:8px }

/* helper intro that fades away early */
.cv-sub{
  margin: 8px 0 0;
  max-width: 900px;
  font-weight: 700;
  font-size: clamp(14px, 2.2vw, 18px);
  opacity: 1;  /* JS fades this to 0 quickly */
}

/* small screens */
@media (max-width: 420px){
  :root{ --nav-height: 76px; }
}
